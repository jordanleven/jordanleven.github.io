import{f as x,u as H,h as J,k as s,c as p,a,t as h,j as u,v as _,i as c,b as v,F as S,m as T,o as f,_ as q}from"./DkPh4ZxM.js";import{u as B}from"./BLTweTwS.js";import{P}from"./ByiGLcvq.js";import{b as V}from"./v06l-DEk.js";import"./CY5tjrCj.js";import"./DJOmhnNR.js";import"./CPwItD2g.js";import"./BmvJlDds.js";import"./B6wsjVo0.js";import"./DeikIUyS.js";const U={class:"portfolio__container"},X={class:"portfolio__header","data-test":"header"},z={class:"portfolio__list-container","data-test":"portfolio-recent"},K={class:"portfolio__subheader"},Q={class:"portfolio__list-divider","data-test":"portfolio-divider"},W={class:"portfolio__subheader"},Z={class:"portfolio__subheader"},tt=120,Y=3,ot=x({__name:"index",async setup(et){let m,E;const{t:b}=H();B({titleTemplate:b("PAGE_NAMES.PROJECTS.INDEX","%s")});const d=([m,E]=J(()=>V()),m=await m,E(),m),C=t=>{const o=new Date;return t.filter(({postDate:e})=>{const r=new Date(e),l=Math.abs(o.valueOf()-r.valueOf());return Math.ceil(l/(1e3*60*60*24))<=tt})},D=t=>{const o=t.map(({date:r})=>r.getFullYear());return[...new Set(o)].sort()},I=t=>{const o=t[0],e=t[t.length-1],r=e-o+1,l=Math.ceil(r/Y),n=[];for(let j=0;j<l;j+=1){const g=e-j*Y,N=g-Y+1;n.push({yearBegin:N>o?N:o,yearEnd:g})}return n},O=s(()=>C(d)),R=s(()=>O.value),i=s(()=>R.value.length>0),G=s(()=>Math.min(R.value.length,4)),y=s(()=>{const t=O.value.map(({path:o})=>o);return d.filter(({path:o})=>!t.includes(o))}),w=s(()=>D(y.value)),M=s(()=>D(d)),F=s(()=>I(w.value)),L=s(()=>I(M.value)),A=(t,o,e)=>t.filter(({date:l})=>{const n=l.getFullYear();return n>=o&&n<=e}),$=s(()=>F.value.map(({yearBegin:t,yearEnd:o})=>{const e=t===o?t:`${t} — ${o}`;return{projects:A(y.value,t,o),title:e}})),k=s(()=>L.value.map(({yearBegin:t,yearEnd:o})=>{const e=t===o?t:`${t} — ${o}`;return{projects:A(d,t,o),title:e}}));return(t,o)=>(f(),p("section",U,[a("h1",X,h(t.$t("PORTFOLIO.HEADER_PROJECTS")),1),u(a("div",z,[a("h2",K,h(t.$t("PORTFOLIO.HEADER_RECENT")),1),u(v(P,{ref:"recentProjects","data-test":"recent-projects",columns:c(G),"portfolio-items":c(R),"portfolio-item-type":"project"},null,8,["columns","portfolio-items"]),[[_,c(i)]])],512),[[_,c(i)]]),u(a("hr",Q,null,512),[[_,c(i)]]),(f(!0),p(S,null,T(c($),({title:e,projects:r},l)=>u((f(),p("div",{key:l,class:"portfolio__list-container","data-test":"portfolio-all"},[a("h2",W,h(e),1),v(P,{class:"portfolio__list",columns:3,"portfolio-items":r,"portfolio-item-type":"project"},null,8,["portfolio-items"])])),[[_,c(i)]])),128)),(f(!0),p(S,null,T(c(k),({title:e,projects:r},l)=>u((f(),p("div",{key:l,class:"portfolio__list-container","data-test":"portfolio-all"},[a("h2",Z,h(e),1),v(P,{class:"portfolio__list",columns:3,"portfolio-items":r,"portfolio-item-type":"project"},null,8,["portfolio-items"])])),[[_,!c(i)]])),128))]))}}),ft=q(ot,[["__scopeId","data-v-7a43b870"]]);export{ft as default};
