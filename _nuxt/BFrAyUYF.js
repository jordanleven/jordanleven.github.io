import{f as w,c as b,a as o,t as C,j as l,v as c,r as v,o as y,p as T,e as B,_ as L,u as N,h as P,k as r,l as k,w as R,i as e,b as u}from"./C1rgcS3C.js";import{u as M}from"./ZnbbGl3u.js";import{P as f}from"./B88ff-fz.js";import{b as x}from"./A8c4RjAJ.js";import"./D9TUNlVK.js";import"./B4xlsvn4.js";import"./D-5RWq9V.js";import"./DEqr9vG2.js";import"./BQotdtUa.js";import"./BfdA_onI.js";const A=s=>(T("data-v-533ab5f8"),s=s(),B(),s),G={class:"portfolio__container"},O={class:"portfolio__header","data-test":"header"},$={class:"portfolio__list-container","data-test":"portfolio-recent"},H=A(()=>o("h2",{class:"portfolio__subheader"}," Recent ",-1)),V={class:"portfolio__list-divider","data-test":"portfolio-divider"},W={class:"portfolio__list-container","data-test":"portfolio-all"},j=A(()=>o("h2",{class:"portfolio__subheader"}," All ",-1)),X=w({__name:"PortfolioGallery",props:{header:{},showRecent:{type:Boolean,default:!1}},setup(s){return(t,n)=>(y(),b("section",G,[o("h1",O,C(t.header),1),l(o("div",$,[H,v(t.$slots,"recent",{},void 0,!0)],512),[[c,t.showRecent]]),l(o("hr",V,null,512),[[c,t.showRecent]]),o("div",W,[j,v(t.$slots,"all",{},void 0,!0)])]))}}),Y=L(X,[["__scopeId","data-v-533ab5f8"]]),q=120,it=w({__name:"index",async setup(s){let t,n;const{t:D}=N();M({titleTemplate:D("PAGE_NAMES.ARTICLES.INDEX","%s")});const p=([t,n]=P(()=>x()),t=await t,n(),t),E=a=>{const h=new Date;return a.filter(({date:i})=>{const g=new Date(i),I=Math.abs(h.valueOf()-g.valueOf());return Math.ceil(I/(1e3*60*60*24))<=q})},_=r(()=>E(p)),S=r(()=>{const a=_.value.map(({path:i})=>i);return p.filter(({path:i})=>!a.includes(i))}),m=r(()=>_.value.length),d=r(()=>m.value>0);return(a,h)=>(y(),k(Y,{header:"Articles","show-recent":e(d)},{recent:R(()=>[u(f,{"data-test":"recent-articles",columns:1,"portfolio-items":e(_),"portfolio-item-type":"article"},null,8,["portfolio-items"])]),all:R(()=>[l(u(f,{"animation-previous-item-length":e(m),columns:3,"portfolio-items":e(S),"portfolio-item-type":"article"},null,8,["animation-previous-item-length","portfolio-items"]),[[c,e(d)]]),l(u(f,{"animation-previous-item-length":e(m),columns:3,"portfolio-items":e(p),"portfolio-item-type":"article"},null,8,["animation-previous-item-length","portfolio-items"]),[[c,!e(d)]])]),_:1},8,["show-recent"]))}});export{it as default};
