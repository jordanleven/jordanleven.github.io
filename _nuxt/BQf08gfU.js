import{_ as g}from"./Dlzgt1Bb.js";import{e as i,c as r,a as t,t as p,i as f,v as j,F as d,l as E,o as c,b as n,w as P,n as H,_ as u,u as F,g as $,h as A}from"./B-FoGL5w.js";import{I as T}from"./BGIhZcZI.js";import{q as v}from"./BiKkn1ah.js";import{u as w}from"./B1kTtPHP.js";import"./CHpg0cZ2.js";import"./C728SGVB.js";const y={class:"the-homepage-featured-projects"},I={class:"the-homepage-featured-projects-header"},M={class:"the-homepage-featured-projects-list"},O={class:"the-homepage-featured-projects__project-inner"},R={class:"the-homepage-featured-projects__project-foreground"},k={class:"the-homepage-featured-projects__project-header"},C=i({__name:"TheHomepageFeaturedProjects",props:{featuredProjects:{default:()=>[]}},setup(o){return(e,s)=>{const a=g;return c(),r("div",y,[t("h2",I,p(e.$t("PAGE_HOME.HEADER_FEATURED_PROJECTS")),1),f(t("ul",M,[(c(!0),r(d,null,E(e.featuredProjects,({title:_,path:h,backgroundImage:m},l)=>(c(),r("li",{key:l,class:"the-homepage-featured-projects__project"},[t("div",O,[n(a,{ref_for:!0,ref:"link",class:"the-homepage-featured-projects__project-link",to:h},{default:P(()=>[t("div",{class:"the-homepage-featured-projects__project-background",style:H(`background-image: url(${m});`)},null,4),t("div",R,[t("h3",k,p(_),1)])]),_:2},1032,["to"])])]))),128))],512),[[j,e.featuredProjects]])])}}}),b=u(C,[["__scopeId","data-v-68608bfd"]]),D={class:"homepage-hero-image"},S={class:"homepage-hero-image-inner"},G={class:"homepage-hero-image__container"},N={class:"homepage-hero-image__header"},x=["innerHTML"],L="/images/pages/homepage/profile-pic-2023.jpg",B=i({__name:"TheHomepageHero",setup(o){return(e,s)=>{const a=T;return c(),r("div",D,[t("div",S,[t("div",G,[n(a,{class:"homepage-hero-image__hero-image",width:"350",height:"auto",src:L})]),t("h1",N,p(e.$t("PAGE_HOME.HEADER")),1),t("p",{class:"homepage-hero-image__intro",innerHTML:e.$t("PAGE_HOME.DESCRIPTION")},null,8,x)])])}}}),U=u(B,[["__scopeId","data-v-0b2ec026"]]),q=async(o=-1)=>await v("projects").where({featured:{$ne:!1}}).only(["thumbnail","_path","title"]).sort({projectDate:-1}).limit(o).find(),J=o=>{const{thumbnail:e,_path:s,title:a}=o;return{backgroundImage:e,path:s,title:a}},V=(o=[])=>o.map(J),z=async(o=-1)=>{const e=await q(o);return V(e)},K={class:"homepage__hero"},Q={class:"homepage__featured_projects"},W=6,ae=i({__name:"index",async setup(o){let e,s;const{t:a}=F();w({titleTemplate:a("PAGE_NAMES.HOMEPAGE")});const _=([e,s]=$(()=>z(W)),e=await e,s(),e);return(h,m)=>(c(),r(d,null,[t("section",K,[n(U,{"data-cy":"homepage-hero"})]),t("section",Q,[n(b,{"data-cy":"homepage-featured-projects","featured-projects":A(_)},null,8,["featured-projects"])])],64))}});export{ae as default};
