import{f as i,c as r,a as t,t as p,j as g,v as f,F as d,m as j,o as c,b as n,w as E,n as P,_ as u,u as H,h as $,i as F}from"./B7xmpxV8.js";import{u as A}from"./BLxSFXib.js";import{_ as T}from"./BhoDQQwC.js";import{_ as v}from"./B7fTmJVP.js";import{q as w}from"./hv7qTfQb.js";import"./cv7oCcim.js";import"./DKS5He-Q.js";const y={class:"the-homepage-featured-projects"},M={class:"the-homepage-featured-projects-header"},O={class:"the-homepage-featured-projects-list"},R={class:"the-homepage-featured-projects__project-inner"},k={class:"the-homepage-featured-projects__project-foreground"},C={class:"the-homepage-featured-projects__project-header"},D=i({__name:"TheHomepageFeaturedProjects",props:{featuredProjects:{default:()=>[]}},setup(o){return(e,s)=>{const a=T;return c(),r("div",y,[t("h2",M,p(e.$t("PAGE_HOME.HEADER_FEATURED_PROJECTS")),1),g(t("ul",O,[(c(!0),r(d,null,j(e.featuredProjects,({title:_,path:h,backgroundImage:m},l)=>(c(),r("li",{key:l,class:"the-homepage-featured-projects__project"},[t("div",R,[n(a,{ref_for:!0,ref:"link",class:"the-homepage-featured-projects__project-link",to:h},{default:E(()=>[t("div",{class:"the-homepage-featured-projects__project-background",style:P(`background-image: url(${m});`)},null,4),t("div",k,[t("h3",C,p(_),1)])]),_:2},1032,["to"])])]))),128))],512),[[f,e.featuredProjects]])])}}}),I=u(D,[["__scopeId","data-v-d331f032"]]),S={class:"homepage-hero-image"},b={class:"homepage-hero-image-inner"},x={class:"homepage-hero-image__container"},G={class:"homepage-hero-image__header"},N=["innerHTML"],L="/images/pages/homepage/profile-pic-2023.jpg",B=i({__name:"TheHomepageHero",setup(o){return(e,s)=>{const a=v;return c(),r("div",S,[t("div",b,[t("div",x,[n(a,{class:"homepage-hero-image__hero-image",width:"350",height:"auto",src:L})]),t("h1",G,p(e.$t("PAGE_HOME.HEADER")),1),t("p",{class:"homepage-hero-image__intro",innerHTML:e.$t("PAGE_HOME.DESCRIPTION")},null,8,N)])])}}}),U=u(B,[["__scopeId","data-v-37ebf3f5"]]),q=async(o=-1)=>await w("projects").where({featured:{$ne:!1}}).only(["thumbnail","_path","title"]).sort({projectDate:-1}).limit(o).find(),J=o=>{const{thumbnail:e,_path:s,title:a}=o;return{backgroundImage:e,path:s,title:a}},V=(o=[])=>o.map(J),z=async(o=-1)=>{const e=await q(o);return V(e)},K={class:"homepage__hero"},Q={class:"homepage__featured_projects"},W=6,ae=i({__name:"index",async setup(o){let e,s;const{t:a}=H();A({titleTemplate:a("PAGE_NAMES.HOMEPAGE")});const _=([e,s]=$(()=>z(W)),e=await e,s(),e);return(h,m)=>(c(),r(d,null,[t("section",K,[n(U,{"data-cy":"homepage-hero"})]),t("section",Q,[n(I,{"data-cy":"homepage-featured-projects","featured-projects":F(_)},null,8,["featured-projects"])])],64))}});export{ae as default};
